(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[412],{3425:function(t){t.exports=function(t,e){(e=e||{}).listUnicodeChar=!!e.hasOwnProperty("listUnicodeChar")&&e.listUnicodeChar,e.stripListLeaders=!e.hasOwnProperty("stripListLeaders")||e.stripListLeaders,e.gfm=!e.hasOwnProperty("gfm")||e.gfm,e.useImgAltText=!e.hasOwnProperty("useImgAltText")||e.useImgAltText,e.abbr=!!e.hasOwnProperty("abbr")&&e.abbr,e.replaceLinksWithURL=!!e.hasOwnProperty("replaceLinksWithURL")&&e.replaceLinksWithURL,e.htmlTagsToSkip=e.hasOwnProperty("htmlTagsToSkip")?e.htmlTagsToSkip:[];var n=t||"";n=n.replace(/^(-\s*?|\*\s*?|_\s*?){3,}\s*/gm,"");try{e.stripListLeaders&&(n=e.listUnicodeChar?n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,e.listUnicodeChar+" $1"):n.replace(/^([\s\t]*)([\*\-\+]|\d+\.)\s+/gm,"$1")),e.gfm&&(n=n.replace(/\n={2,}/g,"\n").replace(/~{3}.*\n/g,"").replace(/~~/g,"").replace(/`{3}.*\n/g,"")),e.abbr&&(n=n.replace(/\*\[.*\]:.*\n/,"")),n=n.replace(/<[^>]*>/g,"");var a=RegExp("<[^>]*>","g");if(e.htmlTagsToSkip.length>0){var r="(?!"+e.htmlTagsToSkip.join("|")+")";a=RegExp("<"+r+"[^>]*>","ig")}n=n.replace(a,"").replace(/^[=\-]{2,}\s*$/g,"").replace(/\[\^.+?\](\: .*?$)?/g,"").replace(/\s{0,2}\[.*?\]: .*?$/g,"").replace(/\!\[(.*?)\][\[\(].*?[\]\)]/g,e.useImgAltText?"$1":"").replace(/\[([^\]]*?)\][\[\(].*?[\]\)]/g,e.replaceLinksWithURL?"$2":"$1").replace(/^\s{0,3}>\s?/gm,"").replace(/^\s{1,2}\[(.*?)\]: (\S+)( ".*?")?\s*$/g,"").replace(/^(\n)?\s{0,}#{1,6}\s+| {0,}(\n)?\s{0,}#{0,} #{0,}(\n)?\s{0,}$/gm,"$1$2$3").replace(/([\*]+)(\S)(.*?\S)??\1/g,"$2$3").replace(/(^|\W)([_]+)(\S)(.*?\S)??\2($|\W)/g,"$1$3$4$5").replace(/(`{3,})(.*?)\1/gm,"$2").replace(/`(.+?)`/g,"$1").replace(/~(.*?)~/g,"$1")}catch(e){return console.error(e),t}return n}},3205:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[postIdx]",function(){return n(541)}])},2750:function(t,e,n){"use strict";n.d(e,{I:function(){return uploadImage}});var a=n(8175);async function uploadImage(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,{name:s,size:i}=n;try{let l=await a.Z.get("/apis/images/",{params:{name:s,size:i}});if(l.data.url)t=l.data.url,r=l.data.alt,e=l.data.idx,alert("중복된 이미지가 있어 정보를 불러옵니다.");else{let i=new FormData;i.append("image",n),i.append("alt",null!=r?r:s),i.append("checkAuth",!0);let l=await a.Z.post("/apis/images",i);t=l.data.url,e=l.data.idx,r=l.data.alt}return{url:t,alt:r,idx:e}}catch(t){t.response.data.msg?alert(t.response.data.msg):415==t.response.status?alert("잘못된 확장자입니다."):alert("이미지 업로드를 실패하였습니다.")}}},4686:function(t,e,n){"use strict";n.d(e,{UI:function(){return getPostList},dq:function(){return editPost},fR:function(){return deletePost},lT:function(){return uploadPost}});var a=n(8175),r=n(2750);async function getPostList(t,e,n,r){try{let s=await a.Z.get("/apis/posts/list/".concat(t),{params:{limit:n,page:e,paginationUsing:r}});return s.data}catch(t){console.error(t.response.data.msg)}}async function deletePost(t,e){if(window.confirm("게시글 삭제를 진행하시겠습니까?"))try{await a.Z.delete("/apis/posts/".concat(t)),e.push("/")}catch(t){console.error(t.response.data.msg)}}async function uploadPost(t){if(t.uploadThumbnail){let{uploadThumbnail:n,thumbnailAlt:s}=t;try{let e=await (0,r.I)(n,s),i=e.idx;t.thumbnail=i,await a.Z.post("/apis/posts",{checkAuth:!0,postData:t})}catch(t){var e;(null===(e=t.response)||void 0===e?void 0:e.data.msg)&&console.error(t.response.data.msg)}}}async function editPost(t){try{let e=await (0,r.I)(uploadThumbnail,thumbnailAlt),n=e.idx;t.thumbnail=n,await a.Z.post("/apis/posts/".concat(t.postIdx),{checkAuth:!0,postData:t})}catch(t){var e;(null===(e=t.response)||void 0===e?void 0:e.data.msg)&&console.error(t.response.data.msg)}}n(279)},541:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return g},default:function(){return Post}});var a=n(8598),r=n(5059),s=n(2691),i=n.n(s);n(3425);var l=n(9518),o=n(4686),c=n(4376);function _templateObject(){let t=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n  flex: 1;\n\n  min-width: 0;\n  max-width: 100%;\n  height: 100%;\n\n  & img {\n    max-width: 100%;\n  }\n"]);return _templateObject=function(){return t},t}function _templateObject1(){let t=(0,r._)(["\n  display: flex;\n  align-items: center;\n  gap: 14px;\n"]);return _templateObject1=function(){return t},t}function _templateObject2(){let t=(0,r._)(["\n  display: flex;\n  gap: 8px;\n\n  & > .buttonText {\n    cursor: pointer;\n    transition: var(--transition);\n  }\n\n  & > .buttonText:hover {\n    color: #ffffff;\n  }\n"]);return _templateObject2=function(){return t},t}function _templateObject3(){let t=(0,r._)(["\n  width: 100%;\n  text-align: center;\n\n  & img {\n    max-width: 50%;\n  }\n\n  @media all and (max-width: ",") {\n    & img {\n      max-width: 90%;\n    }\n  }\n"]);return _templateObject3=function(){return t},t}function _templateObject4(){let t=(0,r._)(["\n  word-break: break-all;\n"]);return _templateObject4=function(){return t},t}function PostContent(t){let{postData:e,postIdx:n,user:r}=t,s=(0,c.useRouter)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(p,{children:[(0,a.jsx)("h2",{className:"headline",children:e.subject}),(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsxs)(u,{children:[(0,a.jsx)("h3",{className:"subTitle",children:e.memberName}),(0,a.jsx)("p",{className:"normalText",children:new Date(e.updateDatetime).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"})})]}),e.memberIdx!==(null==r?void 0:r.idx)?null:(0,a.jsxs)(d,{children:[(0,a.jsx)(i(),{className:"buttonText",href:"/postEditor/edit?post=".concat(n),children:"수정"}),(0,a.jsx)("p",{className:"buttonText",onClick:()=>(0,o.fR)(n,s),children:"삭제"})]})]}),(0,a.jsx)(m,{children:(0,a.jsx)("img",{src:e.thumbnail,alt:e.thumbnailAlt})}),(0,a.jsx)(h,{dangerouslySetInnerHTML:{__html:e.html}})]})})}n(4346);let p=l.ZP.section.withConfig({componentId:"sc-32bbcefe-0"})(_templateObject()),u=l.ZP.div.withConfig({componentId:"sc-32bbcefe-1"})(_templateObject1()),d=l.ZP.div.withConfig({componentId:"sc-32bbcefe-2"})(_templateObject2()),m=l.ZP.div.withConfig({componentId:"sc-32bbcefe-3"})(_templateObject3(),"767px"),h=l.ZP.div.withConfig({componentId:"sc-32bbcefe-4"})(_templateObject4());var g=!0;function Post(t){let{pageProps:e}=t,{user:n,gsspProps:{postIdx:r,postData:s}}=e;return(0,a.jsx)(PostContent,{postIdx:r,postData:s,user:n})}}},function(t){t.O(0,[774,888,179],function(){return t(t.s=3205)}),_N_E=t.O()}]);