"use strict";exports.id=441,exports.ids=[441],exports.modules={8238:(t,a,s)=>{s.a(t,async(t,e)=>{try{s.d(a,{I:()=>uploadImage});var o=s(4304),r=t([o]);async function uploadImage(t=null,a=null){let s,e;let{name:r,size:n}=t;try{let l=await o.Z.get("/apis/images/",{params:{name:r,size:n}});if(l.data.url)s=l.data.url,a=l.data.alt,e=l.data.idx,alert("중복된 이미지가 있어 정보를 불러옵니다.");else{let n=new FormData;n.append("image",t),n.append("alt",a??r),n.append("checkAuth",!0);let l=await o.Z.post("/apis/images",n);s=l.data.url,e=l.data.idx,a=l.data.alt}return{url:s,alt:a,idx:e}}catch(t){t.response.data.msg?alert(t.response.data.msg):415==t.response.status?alert("잘못된 확장자입니다."):alert("이미지 업로드를 실패하였습니다.")}}o=(r.then?(await r)():r)[0],e()}catch(t){e(t)}})},2441:(t,a,s)=>{s.a(t,async(t,e)=>{try{s.d(a,{UI:()=>getPostList,dq:()=>editPost,fR:()=>deletePost,lT:()=>uploadPost,xl:()=>getPost});var o=s(4304),r=s(8238),n=t([o,r]);async function getPostList(t,a,s,e){try{let r=await o.Z.get(`/apis/posts/list/${t}`,{params:{limit:s,page:a,paginationUsing:e}});return r.data}catch(t){console.error(t.response.data.msg)}}async function getPost({postIdx:t,user:a={}}){try{let s=await o.Z.get(`${process.env.REACT_APP_SERVER_URL}/apis/posts/${t}`,{params:{user:a}});return s.data.postData}catch(t){return{status:t.response.status,msg:t.response.data.msg}}}async function deletePost(t,a){if(window.confirm("게시글 삭제를 진행하시겠습니까?"))try{await o.Z.delete(`/apis/posts/${t}`),a.push("/")}catch(t){console.error(t.response.data.msg)}}async function uploadPost(t){if(t.uploadThumbnail){let{uploadThumbnail:a,thumbnailAlt:s}=t;try{let e=await (0,r.I)(a,s),o=e.idx;t.thumbnail=o}catch(t){t.response?.data.msg&&console.error(t.response.data.msg)}}try{await o.Z.post("/apis/posts",{checkAuth:!0,postData:t})}catch(t){t.response?.data.msg&&console.error(t.response.data.msg)}}async function editPost(t){try{let a=await (0,r.I)(uploadThumbnail,thumbnailAlt),s=a.idx;t.thumbnail=s,await o.Z.post(`/apis/posts/${t.postIdx}`,{checkAuth:!0,postData:t})}catch(t){t.response?.data.msg&&console.error(t.response.data.msg)}}[o,r]=n.then?(await n)():n,e()}catch(t){e(t)}})}};